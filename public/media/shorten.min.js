(function(a,b,c){function d(a){var c=j["$"+a]||b[a];if(!c)throw new Error("Ender Error: Requested module '"+a+"' has not been defined.");return c}function e(a,b){return j["$"+a]=b}function f(a,b){for(var c in b)c!="noConflict"&&c!="_VERSION"&&(a[c]=b[c]);return a}function g(a){return typeof a!="object"||!a||a.nodeType||a===b?!1:typeof (a=a.length)=="number"&&a===a?a:!1}function h(a,b){var c;this.length=0,typeof a=="string"&&(a=i._select(this.selector=a,b));if(null==a)return this;if(typeof a=="function")i._closure(a,b);else if(!1===(c=g(a)))this[this.length++]=a;else for(this.length=c=c>0?c>>0:0;c--;)this[c]=a[c]}function i(a,b){return new h(a,b)}a.global=a;var j={},k=a.$,l=a.ender,m=a.require,n=a.provide;a.provide=e,a.require=d,i._VERSION="0.4.x",i.fn=i.prototype=h.prototype,h.prototype.$=i,h.prototype.splice=function(){throw new Error("Not implemented")},h.prototype.forEach=function(a,b){var c,d;for(c=0,d=this.length;c<d;++c)c in this&&a.call(b||this[c],this[c],c,this);return this},i.ender=function(a,b){f(b?h.prototype:i,a)},i._select=function(a,b){return a?(b||c).querySelectorAll(a):[]},i._closure=function(a){a.call(c,i)},i.noConflict=function(b){return a.$=k,b&&(a.provide=n,a.require=m,a.ender=l,typeof b=="function"&&b(d,e,this)),this},typeof module!="undefined"&&module.exports&&(module.exports=i),a.ender=a.$=i})(this,window,document),function(){var a={exports:{}},b=a.exports;!function(b,c){typeof a!="undefined"?a.exports=c():typeof define=="function"&&typeof define.amd=="object"?define(c):this[b]=c()}("domready",function(a){function b(a){n=1;while(a=c.shift())a()}var c=[],d,e=!1,f=document,g=f.documentElement,h=g.doScroll,i="DOMContentLoaded",j="addEventListener",k="onreadystatechange",l="readyState",m=h?/^loaded|^c/:/^loaded|c/,n=m.test(f[l]);return f[j]&&f[j](i,d=function(){f.removeEventListener(i,d,e),b()},e),h&&f.attachEvent(k,d=function(){/^c/.test(f[l])&&(f.detachEvent(k,d),b())}),a=h?function(b){self!=top?n?b():c.push(b):function(){try{g.doScroll("left")}catch(c){return setTimeout(function(){a(b)},50)}b()}()}:function(a){n?a():c.push(a)}}),typeof provide=="function"&&provide("domready",a.exports),!function(a){var b=require("domready");a.ender({domReady:b}),a.ender({ready:function(a){return b(a),this}},!0)}(ender)}(),function(){var a={exports:{}},b=a.exports;(function(b,c,d){typeof a!="undefined"&&a.exports?a.exports=d():typeof define=="function"&&define.amd?define(d):c[b]=d()})("qwery",this,function(){function a(){this.c={}}function b(a){return W.g(a)||W.s(a,"(^|\\s+)"+a+"(\\s+|$)",1)}function c(a,b){var c=0,d=a.length;for(;c<d;c++)b(a[c])}function d(a){for(var b=[],c=0,d=a.length;c<d;++c)p(a[c])?b=b.concat(a[c]):b[b.length]=a[c];return b}function e(a){var b=0,c=a.length,d=[];for(;b<c;b++)d[b]=a[b];return d}function f(a){while(a=a.previousSibling)if(a[B]==1)break;return a}function g(a){return a.match(U)}function h(a,c,d,e,f,g,h,i,k,l,m){var n,o,p,q,r;if(this[B]!==1)return!1;if(c&&c!=="*"&&this[A]&&this[A].toLowerCase()!==c)return!1;if(d&&(o=d.match(D))&&o[1]!==this.id)return!1;if(d&&(r=d.match(E)))for(n=r.length;n--;)if(!b(r[n].slice(1)).test(this.className))return!1;if(k&&s.pseudos[k]&&!s.pseudos[k](this,m))return!1;if(e&&!h){q=this.attributes;for(p in q)if(Object.prototype.hasOwnProperty.call(q,p)&&(q[p].name||p)==f)return this}return e&&!j(g,_(this,f)||"",h)?!1:this}function i(a){return X.g(a)||X.s(a,a.replace(N,"\\$1"))}function j(a,b,c){switch(a){case"=":return b==c;case"^=":return b.match(Y.g("^="+c)||Y.s("^="+c,"^"+i(c),1));case"$=":return b.match(Y.g("$="+c)||Y.s("$="+c,i(c)+"$",1));case"*=":return b.match(Y.g(c)||Y.s(c,i(c),1));case"~=":return b.match(Y.g("~="+c)||Y.s("~="+c,"(?:^|\\s+)"+i(c)+"(?:\\s+|$)",1));case"|=":return b.match(Y.g("|="+c)||Y.s("|="+c,"^"+i(c)+"(-|$)",1))}return 0}function k(a,b){var d=[],e=[],f,i,j,k,l,n,o,p,q=b,s=Z.g(a)||Z.s(a,a.split(T)),t=a.match(S);if(!s.length)return d;k=(s=s.slice(0)).pop(),s.length&&(j=s[s.length-1].match(F))&&(q=r(b,j[1]));if(!q)return d;o=g(k),n=q!==b&&q[B]!==9&&t&&/^[+~]$/.test(t[t.length-1])?function(a){while(q=q.nextSibling)q[B]==1&&(o[1]?o[1]==q[A].toLowerCase():1)&&(a[a.length]=q);return a}([]):q[x](o[1]||"*");for(f=0,i=n.length;f<i;f++)if(p=h.apply(n[f],o))d[d.length]=p;return s.length?(c(d,function(a){m(a,s,t)&&(e[e.length]=a)}),e):d}function l(a,b,c){if(n(b))return a==b;if(p(b))return!!~d(b).indexOf(a);var e=b.split(","),f,i;while(b=e.pop()){f=Z.g(b)||Z.s(b,b.split(T)),i=b.match(S),f=f.slice(0);if(h.apply(a,g(f.pop()))&&(!f.length||m(a,f,i,c)))return!0}return!1}function m(a,b,c,d){function e(a,d,i){while(i=V[c[d]](i,a))if(n(i)&&h.apply(i,g(b[d]))){if(!d)return i;if(f=e(i,d-1,i))return f}}var f;return(f=e(a,b.length-1,a))&&(!d||$(f,d))}function n(a,b){return a&&typeof a=="object"&&(b=a[B])&&(b==1||b==9)}function o(a){var b=[],c,d;a:for(c=0;c<a.length;++c){for(d=0;d<b.length;++d)if(b[d]==a[c])continue a;b[b.length]=a[c]}return b}function p(a){return typeof a=="object"&&isFinite(a.length)}function q(a){return a?typeof a=="string"?s(a)[0]:!a[B]&&p(a)?a[0]:a:u}function r(a,b,c){return a[B]===9?a.getElementById(b):a.ownerDocument&&((c=a.ownerDocument.getElementById(b))&&$(c,a)&&c||!$(a,a.ownerDocument)&&C('[id="'+b+'"]',a)[0])}function s(a,b){var c,f,g=q(b);if(!g||!a)return[];if(a===window||n(a))return!b||a!==window&&n(g)&&$(a,g)?[a]:[];if(a&&p(a))return d(a);if(c=a.match(R)){if(c[1])return(f=r(g,c[1]))?[f]:[];if(c[2])return e(g[x](c[2]));if(ab&&c[3])return e(g[w](c[3]))}return C(a,g)}function t(a,b){return function(c){var d,e;if(J.test(c)){a[B]!==9&&((e=d=a.getAttribute("id"))||a.setAttribute("id",e="__qwerymeupscotty"),c='[id="'+e+'"]'+c,b(a.parentNode||a,c,!0),d||a.removeAttribute("id"));return}c.length&&b(a,c,!1)}}var u=document,v=u.documentElement,w="getElementsByClassName",x="getElementsByTagName",y="querySelectorAll",z="useNativeQSA",A="tagName",B="nodeType",C,D=/#([\w\-]+)/,E=/\.[\w\-]+/g,F=/^#([\w\-]+)$/,G=/^\.([\w\-]+)$/,H=/^([\w\-]+)$/,I=/^([\w]+)?\.([\w\-]+)$/,J=/(^|,)\s*[>~+]/,K=/^\s+|\s*([,\s\+\~>]|$)\s*/g,L=/[\s\>\+\~]/,M=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,N=/([.*+?\^=!:${}()|\[\]\/\\])/g,O=/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,P=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,Q=/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/,R=new RegExp(F.source+"|"+H.source+"|"+G.source),S=new RegExp("("+L.source+")"+M.source,"g"),T=new RegExp(L.source+M.source),U=new RegExp(O.source+"("+P.source+")?"+"("+Q.source+")?"),V={" ":function(a){return a&&a!==v&&a.parentNode},">":function(a,b){return a&&a.parentNode==b.parentNode&&a.parentNode},"~":function(a){return a&&a.previousSibling},"+":function(a,b,c,d){return a?(c=f(a))&&(d=f(b))&&c==d&&c:!1}};a.prototype={g:function(a){return this.c[a]||undefined},s:function(a,b,c){return b=c?new RegExp(b):b,this.c[a]=b}};var W=new a,X=new a,Y=new a,Z=new a,$="compareDocumentPosition"in v?function(a,b){return(b.compareDocumentPosition(a)&16)==16}:"contains"in v?function(a,b){return b=b[B]===9||b==window?v:b,b!==a&&b.contains(a)}:function(a,b){while(a=a.parentNode)if(a===b)return 1;return 0},_=function(){var a=u.createElement("p");return(a.innerHTML='<a href="#x">x</a>')&&a.firstChild.getAttribute("href")!="#x"?function(a,b){return b==="class"?a.className:b==="href"||b==="src"?a.getAttribute(b,2):a.getAttribute(b)}:function(a,b){return a.getAttribute(b)}}(),ab=!!u[w],bb=u.querySelector&&u[y],cb=function(a,b){var d=[],f,g;try{return b[B]===9||!J.test(a)?e(b[y](a)):(c(f=a.split(","),t(b,function(a,b){g=a[y](b),g.length==1?d[d.length]=g.item(0):g.length&&(d=d.concat(e(g)))})),f.length>1&&d.length>1?o(d):d)}catch(h){}return db(a,b)},db=function(a,d){var e=[],f,g,h,i,j,l;a=a.replace(K,"$1");if(g=a.match(I)){j=b(g[2]),f=d[x](g[1]||"*");for(h=0,i=f.length;h<i;h++)j.test(f[h].className)&&(e[e.length]=f[h]);return e}return c(l=a.split(","),t(d,function(a,b,c){j=k(b,a);for(h=0,i=j.length;h<i;h++)if(a[B]===9||c||$(j[h],d))e[e.length]=j[h]})),l.length>1&&e.length>1?o(e):e},eb=function(a){typeof a[z]!="undefined"&&(C=a[z]?bb?cb:db:db)};return eb({useNativeQSA:!0}),s.configure=eb,s.uniq=o,s.is=l,s.pseudos={},s}),typeof provide=="function"&&provide("qwery",a.exports),function(a){var b=function(){var a;try{a=require("qwery")}catch(b){a=require("qwery-mobile")}finally{return a}}();a.pseudos=b.pseudos,a._select=function(c,d){return(a._select=function(){var c;if(typeof a.create=="function")return function(c,d){return/^\s*</.test(c)?a.create(c,d):b(c,d)};try{return c=require("bonzo"),function(a,d){return/^\s*</.test(a)?c.create(a,d):b(a,d)}}catch(d){}return b}())(c,d)},a.ender({find:function(c){var d=[],f,g,h,i,j;for(f=0,g=this.length;f<g;f++){j=b(c,this[f]);for(h=0,i=j.length;h<i;h++)d.push(j[h])}return a(b.uniq(d))},and:function(b){var c=a(b);for(var d=this.length,f=0,g=this.length+c.length;d<g;d++,f++)this[d]=c[f];return this.length+=c.length,this},is:function(a,c){var d,e;for(d=0,e=this.length;d<e;d++)if(b.is(this[d],a,c))return!0;return!1}},!0)}(ender)}(),function(){var a={exports:{}},b=a.exports;(function(b,c,d){typeof a!="undefined"&&a.exports?a.exports=d():typeof define=="function"&&define.amd?define(d):c[b]=d()})("bonzo",this,function(){function a(a){return a&&a.nodeName&&(a.nodeType==1||a.nodeType==11)}function b(b,c,d){var e,f,g;if(typeof b=="string")return v.create(b);a(b)&&(b=[b]);if(d){g=[];for(e=0,f=b.length;e<f;e++)g[e]=r(c,b[e]);return g}return b}function c(a){return new RegExp("(^|\\s+)"+a+"(\\s+|$)")}function d(a,b,c,d){var e,f=0,g=a.length;for(;f<g;f++)e=d?a.length-f-1:f,b.call(c||a[e],a[e],e,a);return a}function e(b,c,d){for(var f=0,g=b.length;f<g;f++)a(b[f])&&(e(b[f].childNodes,c,d),c.call(d||b[f],b[f],f,b));return b}function f(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function g(a){return a?a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():a}function h(a){a[T]("data-node-uid")||a[S]("data-node-uid",++O);var b=a[T]("data-node-uid");return N[b]||(N[b]={})}function i(a){var b=a[T]("data-node-uid");b&&delete N[b]}function j(a){var b;try{return a===null||a===undefined?undefined:a==="true"?!0:a==="false"?!1:a==="null"?null:(b=parseFloat(a))==a?b:a}catch(c){}return undefined}function k(a,b,c){for(var d=0,e=a.length;d<e;++d)if(b.call(c||null,a[d],d,a))return!0;return!1}function l(a){return a=="transform"&&(a=V.transform)||/^transform-?[Oo]rigin$/.test(a)&&(a=V.transform+"Origin")||a=="float"&&(a=V.cssFloat),a?f(a):null}function m(a,c,e,f){var g=0,h=c||this,i=[],j=$&&typeof a=="string"&&a.charAt(0)!="<"?$(a):a;return d(b(j),function(a,b){d(h,function(c){e(a,i[g++]=b>0?r(h,c):c)},null,f)},this,f),h.length=g,d(i,function(a){h[--g]=a},null,!f),h}function n(a,b,c){var d=v(a),e=d.css("position"),f=d.offset(),g="relative",h=e==g,i=[parseInt(d.css("left"),10),parseInt(d.css("top"),10)];e=="static"&&(d.css("position",g),e=g),isNaN(i[0])&&(i[0]=h?0:a.offsetLeft),isNaN(i[1])&&(i[1]=h?0:a.offsetTop),b!=null&&(a.style.left=b-f.left+i[0]+R),c!=null&&(a.style.top=c-f.top+i[1]+R)}function o(a,b){return typeof b=="function"?b(a):b}function p(a,b,c){var d=this[0];return d?a==null&&b==null?(s(d)?t():{x:d.scrollLeft,y:d.scrollTop})[c]:(s(d)?w.scrollTo(a,b):(a!=null&&(d.scrollLeft=a),b!=null&&(d.scrollTop=b)),this):this}function q(a){this.length=0;if(a){a=typeof a!="string"&&!a.nodeType&&typeof a.length!="undefined"?a:[a],this.length=a.length;for(var b=0;b<a.length;b++)this[b]=a[b]}}function r(a,b){var c=b.cloneNode(!0),d,e,f;if(a.$&&typeof a.cloneEvents=="function"){a.$(c).cloneEvents(b),d=a.$(c).find("*"),e=a.$(b).find("*");for(f=0;f<e.length;f++)a.$(d[f]).cloneEvents(e[f])}return c}function s(a){return a===w||/^(?:body|html)$/i.test(a.tagName)}function t(){return{x:w.pageXOffset||y.scrollLeft,y:w.pageYOffset||y.scrollTop}}function u(a){var b=document.createElement("script"),c=a.match(C);return b.src=c[1],b}function v(a){return new q(a)}var w=window,x=w.document,y=x.documentElement,z="parentNode",A=/^(checked|value|selected|disabled)$/i,B=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,C=/\s*<script +src=['"]([^'"]+)['"]>/,D=["<table>","</table>",1],E=["<table><tbody><tr>","</tr></tbody></table>",3],F=["<select>","</select>",1],G=["_","",0,1],H={thead:D,tbody:D,tfoot:D,colgroup:D,caption:D,tr:["<table><tbody>","</tbody></table>",2],th:E,td:E,col:["<table><colgroup>","</colgroup></table>",2],fieldset:["<form>","</form>",1],legend:["<form><fieldset>","</fieldset></form>",2],option:F,optgroup:F,script:G,style:G,link:G,param:G,base:G},I=/^(checked|selected|disabled)$/,J=/msie/i.test(navigator.userAgent),K,L,M,N={},O=0,P=/^-?[\d\.]+$/,Q=/^data-(.+)$/,R="px",S="setAttribute",T="getAttribute",U="getElementsByTagName",V=function(){var a=x.createElement("p");return a.innerHTML='<a href="#x">x</a><table style="float:left;"></table>',{hrefExtended:a[U]("a")[0][T]("href")!="#x",autoTbody:a[U]("tbody").length!==0,computedStyle:x.defaultView&&x.defaultView.getComputedStyle,cssFloat:a[U]("table")[0].style.styleFloat?"styleFloat":"cssFloat",transform:function(){var b=["transform","webkitTransform","MozTransform","OTransform","msTransform"],c;for(c=0;c<b.length;c++)if(b[c]in a.style)return b[c]}(),classList:"classList"in a,opasity:function(){return typeof x.createElement("a").style.opacity!="undefined"}()}}(),W=/(^\s*|\s*$)/g,X=/\s+/,Y=String.prototype.toString,Z={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},$=x.querySelectorAll&&function(a){return x.querySelectorAll(a)},_=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(W,"")},ab=V.computedStyle?function(a,b){var c=null,d=x.defaultView.getComputedStyle(a,"");return d&&(c=d[b]),a.style[b]||c}:!J||!y.currentStyle?function(a,b){return a.style[b]}:function(a,b){var c,d;if(b=="opacity"&&!V.opasity){c=100;try{c=a.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(e){try{c=a.filters("alpha").opacity}catch(f){}}return c/100}return d=a.currentStyle?a.currentStyle[b]:null,a.style[b]||d};return V.classList?(K=function(a,b){return a.classList.contains(b)},L=function(a,b){a.classList.add(b)},M=function(a,b){a.classList.remove(b)}):(K=function(a,b){return c(b).test(a.className)},L=function(a,b){a.className=_(a.className+" "+b)},M=function(a,b){a.className=_(a.className.replace(c(b)," "))}),q.prototype={get:function(a){return this[a]||null},each:function(a,b){return d(this,a,b)},deepEach:function(a,b){return e(this,a,b)},map:function(a,b){var c=[],d,e;for(e=0;e<this.length;e++)d=a.call(this,this[e],e),b?b(d)&&c.push(d):c.push(d);return c},html:function(a,c){var e=c?y.textContent===undefined?"innerText":"textContent":"innerHTML",f=this,g=function(c,e){d(b(a,f,e),function(a){c.appendChild(a)})},h=function(b,d){try{if(c||typeof a=="string"&&!B.test(b.tagName))return b[e]=a}catch(f){}g(b,d)};return typeof a!="undefined"?this.empty().each(h):this[0]?this[0][e]:""},text:function(a){return this.html(a,!0)},append:function(a){var c=this;return this.each(function(e,f){d(b(a,c,f),function(a){e.appendChild(a)})})},prepend:function(a){var c=this;return this.each(function(e,f){var g=e.firstChild;d(b(a,c,f),function(a){e.insertBefore(a,g)})})},appendTo:function(a,b){return m.call(this,a,b,function(a,b){a.appendChild(b)})},prependTo:function(a,b){return m.call(this,a,b,function(a,b){a.insertBefore(b,a.firstChild)},1)},before:function(a){var c=this;return this.each(function(e,f){d(b(a,c,f),function(a){e[z].insertBefore(a,e)})})},after:function(a){var c=this;return this.each(function(e,f){d(b(a,c,f),function(a){e[z].insertBefore(a,e.nextSibling)},null,1)})},insertBefore:function(a,b){return m.call(this,a,b,function(a,b){a[z].insertBefore(b,a)})},insertAfter:function(a,b){return m.call(this,a,b,function(a,b){var c=a.nextSibling;c?a[z].insertBefore(b,c):a[z].appendChild(b)},1)},replaceWith:function(a){return v(b(a)).insertAfter(this),this.remove()},clone:function(a){var b=[],c,d;for(d=0,c=this.length;d<c;d++)b[d]=r(a||this,this[d]);return v(b)},addClass:function(a){return a=Y.call(a).split(X),this.each(function(b){d(a,function(a){a&&!K(b,o(b,a))&&L(b,o(b,a))})})},removeClass:function(a){return a=Y.call(a).split(X),this.each(function(b){d(a,function(a){a&&K(b,o(b,a))&&M(b,o(b,a))})})},hasClass:function(a){return a=Y.call(a).split(X),k(this,function(b){return k(a,function(a){return a&&K(b,a)})})},toggleClass:function(a,b){return a=Y.call(a).split(X),this.each(function(c){d(a,function(a){a&&(typeof b!="undefined"?b?!K(c,a)&&L(c,a):M(c,a):K(c,a)?M(c,a):L(c,a))})})},show:function(a){return a=typeof a=="string"?a:"",this.each(function(b){b.style.display=a})},hide:function(){return this.each(function(a){a.style.display="none"})},toggle:function(a,b){return b=typeof b=="string"?b:"",typeof a!="function"&&(a=null),this.each(function(c){c.style.display=c.offsetWidth||c.offsetHeight?"none":b,a&&a.call(c)})},first:function(){return v(this.length?this[0]:[])},last:function(){return v(this.length?this[this.length-1]:[])},next:function(){return this.related("nextSibling")},previous:function(){return this.related("previousSibling")},parent:function(){return this.related(z)},related:function(a){return v(this.map(function(b){b=b[a];while(b&&b.nodeType!==1)b=b[a];return b||0},function(a){return a}))},focus:function(){return this.length&&this[0].focus(),this},blur:function(){return this.length&&this[0].blur(),this},css:function(a,b){function c(a,b,c){for(var d in e)if(e.hasOwnProperty(d)){c=e[d],(b=l(d))&&P.test(c)&&!(b in Z)&&(c+=R);try{a.style[b]=o(a,c)}catch(f){}}}var d,e=a;return b===undefined&&typeof a=="string"?(b=this[0],b?b===x||b===w?(d=b===x?v.doc():v.viewport(),a=="width"?d.width:a=="height"?d.height:""):(a=l(a))?ab(b,a):null:null):(typeof a=="string"&&(e={},e[a]=b),!V.opasity&&"opacity"in e&&(e.filter=e.opacity!=null&&e.opacity!==""?"alpha(opacity="+e.opacity*100+")":"",e.zoom=a.zoom||1,delete e.opacity),this.each(c))},offset:function(a,b){if(!a||typeof a!="object"||typeof a.top!="number"&&typeof a.left!="number"){if(typeof a=="number"||typeof b=="number")return this.each(function(c){n(c,a,b)});if(!this[0])return{top:0,left:0,height:0,width:0};var c=this[0],d=c.ownerDocument.documentElement,e=c.getBoundingClientRect(),f=t(),g=c.offsetWidth,h=c.offsetHeight,i=e.top+f.y-Math.max(0,d&&d.clientTop,x.body.clientTop),j=e.left+f.x-Math.max(0,d&&d.clientLeft,x.body.clientLeft);return{top:i,left:j,height:h,width:g}}return this.each(function(b){n(b,a.left,a.top)})},dim:function(){if(!this.length)return{height:0,width:0};var a=this[0],b=a.nodeType==9&&a.documentElement,c=!b&&!!a.style&&!a.offsetWidth&&!a.offsetHeight?function(b){var c={position:a.style.position||"",visibility:a.style.visibility||"",display:a.style.display||""};return b.first().css({position:"absolute",visibility:"hidden",display:"block"}),c}(this):null,d=b?Math.max(a.body.scrollWidth,a.body.offsetWidth,b.scrollWidth,b.offsetWidth,b.clientWidth):a.offsetWidth,e=b?Math.max(a.body.scrollHeight,a.body.offsetHeight,b.scrollHeight,b.offsetHeight,b.clientHeight):a.offsetHeight;return c&&this.first().css(c),{height:e,width:d}},attr:function(a,b){var c=this[0],d;if(typeof a=="string"||a instanceof String)return typeof b=="undefined"?c?A.test(a)?I.test(a)&&typeof c[a]=="string"?!0:c[a]:a!="href"&&a!="src"||!V.hrefExtended?c[T](a):c[T](a,2):null:this.each(function(c){A.test(a)?c[a]=o(c,b):c[S](a,o(c,b))});for(d in a)a.hasOwnProperty(d)&&this.attr(d,a[d]);return this},removeAttr:function(a){return this.each(function(b){I.test(a)?b[a]=!1:b.removeAttribute(a)})},val:function(a){return typeof a=="string"||typeof a=="number"?this.attr("value",a):this.length?this[0].value:null},data:function(a,b){var c=this[0],e,i;return typeof b=="undefined"?c?(e=h(c),typeof a=="undefined"?(d(c.attributes,function(a){(i=(""+a.name).match(Q))&&(e[f(i[1])]=j(a.value))}),e):(typeof e[a]=="undefined"&&(e[a]=j(this.attr("data-"+g(a)))),e[a])):null:this.each(function(c){h(c)[a]=b})},remove:function(){return this.deepEach(i),this.detach()},empty:function(){return this.each(function(a){e(a.childNodes,i);while(a.firstChild)a.removeChild(a.firstChild)})},detach:function(){return this.each(function(a){a[z]&&a[z].removeChild(a)})},scrollTop:function(a){return p.call(this,null,a,"y")},scrollLeft:function(a){return p.call(this,a,null,"x")}},v.setQueryEngine=function(a){$=a,delete v.setQueryEngine},v.aug=function(a,b){for(var c in a)a.hasOwnProperty(c)&&((b||q.prototype)[c]=a[c])},v.create=function(b){return typeof b=="string"&&b!==""?function(){if(C.test(b))return[u(b)];var a=b.match(/^\s*<([^\s>]+)/),c=x.createElement("div"),e=[],f=a?H[a[1].toLowerCase()]:null,g=f?f[2]+1:1,h=f&&f[3],i=z,j=V.autoTbody&&f&&f[0]=="<table>"&&!/<tbody/i.test(b);c.innerHTML=f?f[0]+b+f[1]:b;while(g--)c=c.firstChild;h&&c&&c.nodeType!==1&&(c=c.nextSibling);do(!a||c.nodeType==1)&&(!j||c.tagName&&c.tagName!="TBODY")&&e.push(c);while(c=c.nextSibling);return d(e,function(a){a[i]&&a[i].removeChild(a)}),e}():a(b)?[b.cloneNode(!0)]:[]},v.doc=function(){var a=v.viewport();return{width:Math.max(x.body.scrollWidth,y.scrollWidth,a.width),height:Math.max(x.body.scrollHeight,y.scrollHeight,a.height)}},v.firstChild=function(a){for(var b=a.childNodes,c=0,d=b&&b.length||0,e;c<d;c++)b[c].nodeType===1&&(e=b[d=c]);return e},v.viewport=function(){return{width:J?y.clientWidth:w.innerWidth,height:J?y.clientHeight:w.innerHeight}},v.isAncestor="compareDocumentPosition"in y?function(a,b){return(a.compareDocumentPosition(b)&16)==16}:"contains"in y?function(a,b){return a!==b&&a.contains(b)}:function(a,b){while(b=b[z])if(b===a)return!0;return!1},v}),typeof provide=="function"&&provide("bonzo",a.exports),function(a){function b(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1}function c(a){var b=[],c=0,d=0,e,f,g;for(;f=a[c];++c){g=!1;for(e=0;e<b.length;++e)if(b[e]===f){g=!0;break}g||(b[d++]=f)}return b}function d(a,b){return typeof b=="undefined"?e(this).dim()[a]:this.css(a,b)}var e=require("bonzo");e.setQueryEngine(a),a.ender(e),a.ender(e(),!0),a.ender({create:function(b){return a(e.create(b))}}),a.id=function(b){return a([document.getElementById(b)])},a.ender({parents:function(d,e){if(!this.length)return this;d||(d="*");var f=a(d),g,h,i,j=[];for(g=0,h=this.length;g<h;g++){i=this[g];while(i=i.parentNode)if(~b(f,i)){j.push(i);if(e)break}}return a(c(j))},parent:function(){return a(c(e(this).parent()))},closest:function(a){return this.parents(a,!0)},first:function(){return a(this.length?this[0]:this)},last:function(){return a(this.length?this[this.length-1]:[])},next:function(){return a(e(this).next())},previous:function(){return a(e(this).previous())},related:function(b){return a(e(this).related(b))},appendTo:function(a){return e(this.selector).appendTo(a,this)},prependTo:function(a){return e(this.selector).prependTo(a,this)},insertAfter:function(a){return e(this.selector).insertAfter(a,this)},insertBefore:function(a){return e(this.selector).insertBefore(a,this)},clone:function(){return a(e(this).clone(this))},siblings:function(){var b,c,d,e=[];for(b=0,c=this.length;b<c;b++){d=this[b];while(d=d.previousSibling)d.nodeType==1&&e.push(d);d=this[b];while(d=d.nextSibling)d.nodeType==1&&e.push(d)}return a(e)},children:function(){var b,d,f,g=[];for(b=0,d=this.length;b<d;b++){if(!(f=e.firstChild(this[b])))continue;g.push(f);while(f=f.nextSibling)f.nodeType==1&&g.push(f)}return a(c(g))},height:function(a){return d.call(this,"height",a)},width:function(a){return d.call(this,"width",a)}},!0)}(ender)}(),function(){var a={exports:{}},b=a.exports;(function(b,c,d){typeof a!="undefined"&&a.exports?a.exports=d():typeof define=="function"&&define.amd?define(d):c[b]=d()})("bean",this,function(a,b){a=a||"bean",b=b||this;var c=window,d=b[a],e=/[^\.]*(?=\..*)\.|.*/,f=/\..*/,g="addEventListener",h="removeEventListener",i=document||{},j=i.documentElement||{},k=j[g],l=k?g:"attachEvent",m={},n=Array.prototype.slice,o=function(a,b){return a.split(b||" ")},p=function(a){return typeof a=="string"},q=function(a){return typeof a=="function"},r="click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll ",s="show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinputreadystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ",t=function(a,b,c){for(c=0;c<b.length;c++)b[c]&&(a[b[c]]=1);return a}({},o(r+(k?s:""))),u=function(){var a="compareDocumentPosition"in j?function(a,b){return b.compareDocumentPosition&&(b.compareDocumentPosition(a)&16)===16}:"contains"in j?function(a,b){return b=b.nodeType===9||b===window?j:b,b!==a&&b.contains(a)}:function(a,b){while(a=a.parentNode)if(a===b)return 1;return 0},b=function(b){var c=b.relatedTarget;return c?c!==this&&c.prefix!=="xul"&&!/document/.test(this.toString())&&!a(c,this):c==null};return{mouseenter:{base:"mouseover",condition:b},mouseleave:{base:"mouseout",condition:b},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),v=function(){var a=o("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),b=a.concat(o("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),d=b.concat(o("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),e=a.concat(o("char charCode key keyCode keyIdentifier keyLocation location")),f=a.concat(o("data")),g=a.concat(o("touches targetTouches changedTouches scale rotation")),h=a.concat(o("data origin source")),k=a.concat(o("state")),l=/over|out/,m=[{reg:/key/i,fix:function(a,b){return b.keyCode=a.keyCode||a.which,e}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(a,c,d){c.rightClick=a.which===3||a.button===2,c.pos={x:0,y:0};if(a.pageX||a.pageY)c.clientX=a.pageX,c.clientY=a.pageY;else if(a.clientX||a.clientY)c.clientX=a.clientX+i.body.scrollLeft+j.scrollLeft,c.clientY=a.clientY+i.body.scrollTop+j.scrollTop;return l.test(d)&&(c.relatedTarget=a.relatedTarget||a[(d=="mouseover"?"from":"to")+"Element"]),b}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return d}},{reg:/^text/i,fix:function(){return f}},{reg:/^touch|^gesture/i,fix:function(){return g}},{reg:/^message$/i,fix:function(){return h}},{reg:/^popstate$/i,fix:function(){return k}},{reg:/.*/,fix:function(){return a}}],n={},p=function(a,b,d){if(!arguments.length)return;a=a||((b.ownerDocument||b.document||b).parentWindow||c).event,this.originalEvent=a,this.isNative=d,this.isBean=!0;if(!a)return;var e=a.type,f=a.target||a.srcElement,g,h,i,j,k;this.target=f&&f.nodeType===3?f.parentNode:f;if(d){k=n[e];if(!k)for(g=0,h=m.length;g<h;g++)if(m[g].reg.test(e)){n[e]=k=m[g].fix;break}j=k(a,this,e);for(g=j.length;g--;)!((i=j[g])in this)&&i in a&&(this[i]=a[i])}};return p.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},p.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},p.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},p.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},p.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},p.prototype.clone=function(a){var b=new p(this,this.element,this.isNative);return b.currentTarget=a,b},p}(),w=function(a,b){return!k&&!b&&(a===i||a===c)?j:a},x=function(){var a=function(a,b,c,d){var e=function(c,e){return b.apply(a,d?n.call(e,c?0:1).concat(d):e)},f=function(c,d){return b.__beanDel?b.__beanDel.ft(c.target,a):d},g=c?function(a){var b=f(a,this);if(c.apply(b,arguments))return a&&(a.currentTarget=b),e(a,arguments)}:function(a){return b.__beanDel&&(a=a.clone(f(a))),e(a,arguments)};return g.__beanDel=b.__beanDel,g},b=function(b,c,d,e,f,g,h){var i=u[c],j;c=="unload"&&(d=D(E,b,c,d,e)),i&&(i.condition&&(d=a(b,d,i.condition,g)),c=i.base||c),this.isNative=j=t[c]&&!!b[l],this.customType=!k&&!j&&c,this.element=b,this.type=c,this.original=e,this.namespaces=f,this.eventType=k||j?c:"propertychange",this.target=w(b,j),this[l]=!!this.target[l],this.root=h,this.handler=a(b,d,null,g)};return b.prototype.inNamespaces=function(a){var b,c,d=0;if(!a)return!0;if(!this.namespaces)return!1;for(b=a.length;b--;)for(c=this.namespaces.length;c--;)a[b]==this.namespaces[c]&&d++;return a.length===d},b.prototype.matches=function(a,b,c){return this.element===a&&(!b||this.original===b)&&(!c||this.handler===c)},b}(),y=function(){var a={},b=function(c,d,e,f,g,h){var i=g?"r":"$";if(!d||d=="*")for(var j in a)j.charAt(0)==i&&b(c,j.substr(1),e,f,g,h);else{var k=0,l,m=a[i+d],n=c=="*";if(!m)return;for(l=m.length;k<l;k++)if((n||m[k].matches(c,e,f))&&!h(m[k],m,k,d))return}},c=function(b,c,d,e){var f,g=a[(e?"r":"$")+c];if(g)for(f=g.length;f--;)if(!g[f].root&&g[f].matches(b,d,null))return!0;return!1},d=function(a,c,d,e){var f=[];return b(a,c,d,null,e,function(a){return f.push(a)}),f},e=function(b){var c=!b.root&&!this.has(b.element,b.type,null,!1),d=(b.root?"r":"$")+b.type;return(a[d]||(a[d]=[])).push(b),c},f=function(c){b(c.element,c.type,null,c.handler,c.root,function(b,c,d){return c.splice(d,1),b.removed=!0,c.length===0&&delete a[(b.root?"r":"$")+b.type],!1})},g=function(){var b,c=[];for(b in a)b.charAt(0)=="$"&&(c=c.concat(a[b]));return c};return{has:c,get:d,put:e,del:f,entries:g}}(),z,A=function(a){arguments.length?z=a:z=i.querySelectorAll?function(a,b){return b.querySelectorAll(a)}:function(){throw new Error("Bean: No selector engine installed")}},B=function(a,b){if(!k&&b&&a&&a.propertyName!="_on"+b)return;var c=y.get(this,b||a.type,null,!1),d=c.length,e=0;a=new v(a,this,!0),b&&(a.type=b);for(;e<d&&!a.isImmediatePropagationStopped();e++)c[e].removed||c[e].handler.call(this,a)},C=k?function(a,b,c){a[c?g:h](b,B,!1)}:function(a,b,c,d){var e;c?(y.put(e=new x(a,d||b,function(b){B.call(a,b,d)},B,null,null,!0)),d&&a["_on"+d]==null&&(a["_on"+d]=0),e.target.attachEvent("on"+e.eventType,e.handler)):(e=y.get(a,d||b,B,!0)[0],e&&(e.target.detachEvent("on"+e.eventType,e.handler),y.del(e)))},D=function(a,b,c,d,e){return function(){d.apply(this,arguments),a(b,c,e)}},E=function(a,b,c,d){var e=b&&b.replace(f,""),g=y.get(a,e,null,!1),h={},i,j;for(i=0,j=g.length;i<j;i++)(!c||g[i].original===c)&&g[i].inNamespaces(d)&&(y.del(g[i]),!h[g[i].eventType]&&g[i][l]&&(h[g[i].eventType]={t:g[i].eventType,c:g[i].type}));for(i in h)y.has(a,h[i].t,null,!1)||C(a,h[i].t,!1,h[i].c)},F=function(a,b){var c=function(b,c){var d,e=p(a)?z(a,c):a;for(;b&&b!==c;b=b.parentNode)for(d=e.length;d--;)if(e[d]===b)return b},d=function(a){var d=c(a.target,this);d&&b.apply(d,arguments)};return d.__beanDel={ft:c,selector:a},d},G=k?function(a,b,d){var e=i.createEvent(a?"HTMLEvents":"UIEvents");e[a?"initEvent":"initUIEvent"](b,!0,!0,c,1),d.dispatchEvent(e)}:function(a,b,c){c=w(c,a),a?c.fireEvent("on"+b,i.createEventObject()):c["_on"+b]++},H=function(a,b,c){var d=p(b),g,h,i,j;if(d&&b.indexOf(" ")>0){b=o(b);for(j=b.length;j--;)H(a,b[j],c);return a}h=d&&b.replace(f,""),h&&u[h]&&(h=u[h].base);if(!b||d){if(i=d&&b.replace(e,""))i=o(i,".");E(a,h,c,i)}else if(q(b))E(a,null,b);else for(g in b)b.hasOwnProperty(g)&&H(a,g,b[g]);return a},I=function(a,b,c,d){var g,h,i,j,k,p,r;if(c===undefined&&typeof b=="object"){for(h in b)b.hasOwnProperty(h)&&I.call(this,a,h,b[h]);return}q(c)?(k=n.call(arguments,3),d=g=c):(g=d,k=n.call(arguments,4),d=F(c,g,z)),i=o(b),this===m&&(d=D(H,a,b,d,g));for(j=i.length;j--;)r=y.put(p=new x(a,i[j].replace(f,""),d,g,o(i[j].replace(e,""),"."),k,!1)),p[l]&&r&&C(a,p.eventType,!0,p.customType);return a},J=function(a,b,c,d){return I.apply(null,p(c)?[a,c,b,d].concat(arguments.length>3?n.call(arguments,5):[]):n.call(arguments))},K=function(){return I.apply(m,arguments)},L=function(a,b,c){var d=o(b),g,h,i,j,k;for(g=d.length;g--;){b=d[g].replace(f,"");if(j=d[g].replace(e,""))j=o(j,".");if(!j&&!c&&a[l])G(t[b],b,a);else{k=y.get(a,b,null,!1),c=[!1].concat(c);for(h=0,i=k.length;h<i;h++)k[h].inNamespaces(j)&&k[h].handler.apply(a,c)}}return a},M=function(a,b,c){var d=y.get(b,c,null,!1),e=d.length,f=0,g,h;for(;f<e;f++)d[f].original&&(g=[a,d[f].type],(h=d[f].handler.__beanDel)&&g.push(h.selector),g.push(d[f].original),I.apply(null,g));return a},N={on:I,add:J,one:K,off:H,remove:H,clone:M,fire:L,Event:v,setSelectorEngine:A,noConflict:function(){return b[a]=d,this}};if(c.attachEvent){var O=function(){var a,b=y.entries();for(a in b)b[a].type&&b[a].type!=="unload"&&H(b[a].element,b[a].type);c.detachEvent("onunload",O),c.CollectGarbage&&c.CollectGarbage()};c.attachEvent("onunload",O)}return A(),N}),typeof provide=="function"&&provide("bean",a.exports),!function(a){var b=require("bean"),c=function(a,c,d){var e=c?[c]:[];return function(){for(var d=0,f=this.length;d<f;d++)!arguments.length&&a=="on"&&c&&(a="fire"),b[a].apply(this,[this[d]].concat(e,Array.prototype.slice.call(arguments,0)));return this}},d=c("add"),e=c("on"),f=c("one"),g=c("off"),h=c("fire"),i=c("clone"),j=function(a,c,d){for(d=this.length;d--;)b.on.call(this,this[d],"mouseenter",a),b.on.call(this,this[d],"mouseleave",c);return this},k={on:e,addListener:e,bind:e,listen:e,delegate:d,one:f,off:g,unbind:g,unlisten:g,removeListener:g,undelegate:g,emit:h,trigger:h,cloneEvents:i,hover:j},l="blur change click dblclick error focus focusin focusout keydown keypress keyup load mousedown mouseenter mouseleave mouseout mouseover mouseup mousemove resize scroll select submit unload".split(" ");for(var m=l.length;m--;)k[l[m]]=c("on",l[m]);b.setSelectorEngine(a),a.ender(k,!0)}(ender)}(),function(){var a={exports:{}},b=a.exports;typeof provide=="function"&&provide("jeesh",a.exports),$.ender(a.exports)}(),function(){var module={exports:{}},exports=module.exports;!function(a,b,c){typeof module!="undefined"&&module.exports?module.exports=c():typeof define=="function"&&define.amd?define(c):b[a]=c()}("reqwest",this,function(){function handleReadyState(a,b,c){return function(){if(a._aborted)return c(a.request);a.request&&a.request[readyState]==4&&(a.request.onreadystatechange=noop,twoHundo.test(a.request.status)?b(a.request):c(a.request))}}function setHeaders(a,b){var c=b.headers||{},d;c.Accept=c.Accept||defaultHeaders.accept[b.type]||defaultHeaders.accept["*"],!b.crossOrigin&&!c[requestedWith]&&(c[requestedWith]=defaultHeaders.requestedWith),c[contentType]||(c[contentType]=b.contentType||defaultHeaders.contentType);for(d in c)c.hasOwnProperty(d)&&"setRequestHeader"in a&&a.setRequestHeader(d,c[d])}function setCredentials(a,b){typeof b.withCredentials!="undefined"&&typeof a.withCredentials!="undefined"&&(a.withCredentials=!!b.withCredentials)}function generalCallback(a){lastValue=a}function urlappend(a,b){return a+(/\?/.test(a)?"&":"?")+b}function handleJsonp(a,b,c,d){var e=uniqid++,f=a.jsonpCallback||"callback",g=a.jsonpCallbackName||reqwest.getcallbackPrefix(e),h=new RegExp("((^|\\?|&)"+f+")=([^&]+)"),i=d.match(h),j=doc.createElement("script"),k=0,l=navigator.userAgent.indexOf("MSIE 10.0")!==-1;return i?i[3]==="?"?d=d.replace(h,"$1="+g):g=i[3]:d=urlappend(d,f+"="+g),win[g]=generalCallback,j.type="text/javascript",j.src=d,j.async=!0,typeof j.onreadystatechange!="undefined"&&!l&&(j.event="onclick",j.htmlFor=j.id="_reqwest_"+e),j.onload=j.onreadystatechange=function(){if(j[readyState]&&j[readyState]!=="complete"&&j[readyState]!=="loaded"||k)return!1;j.onload=j.onreadystatechange=null,j.onclick&&j.onclick(),b(lastValue),lastValue=undefined,head.removeChild(j),k=1},head.appendChild(j),{abort:function(){j.onload=j.onreadystatechange=null,c({},"Request is aborted: timeout",{}),lastValue=undefined,head.removeChild(j),k=1}}}function getRequest(a,b){var c=this.o,d=(c.method||"GET").toUpperCase(),e=typeof c=="string"?c:c.url,f=c.processData!==!1&&c.data&&typeof c.data!="string"?reqwest.toQueryString(c.data):c.data||null,g,h=!1;return(c["type"]=="jsonp"||d=="GET")&&f&&(e=urlappend(e,f),f=null),c["type"]=="jsonp"?handleJsonp(c,a,b,e):(g=c.xhr&&c.xhr(c)||xhr(c),g.open(d,e,c.async===!1?!1:!0),setHeaders(g,c),setCredentials(g,c),win[xDomainRequest]&&g instanceof win[xDomainRequest]?(g.onload=a,g.onerror=b,g.onprogress=function(){},h=!0):g.onreadystatechange=handleReadyState(this,a,b),c.before&&c.before(g),h?setTimeout(function(){g.send(f)},200):g.send(f),g)}function Reqwest(a,b){this.o=a,this.fn=b,init.apply(this,arguments)}function setType(a){var b=a.match(/\.(json|jsonp|html|xml)(\?|$)/);return b?b[1]:"js"}function init(o,fn){function complete(a){o.timeout&&clearTimeout(self.timeout),self.timeout=null;while(self._completeHandlers.length>0)self._completeHandlers.shift()(a)}function success(resp){resp=type!=="jsonp"?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);while(self._fulfillmentHandlers.length>0)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function error(a,b,c){a=self.request,self._responseArgs.resp=a,self._responseArgs.msg=b,self._responseArgs.t=c,self._erred=!0;while(self._errorHandlers.length>0)self._errorHandlers.shift()(a,b,c);complete(a)}this.url=typeof o=="string"?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this,type=o.type||setType(this.url);fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){self.abort()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(a,b){return new Reqwest(a,b)}function normalize(a){return a?a.replace(/\r?\n/g,"\r\n"):""}function serial(a,b){var c=a.name,d=a.tagName.toLowerCase(),e=function(a){a&&!a.disabled&&b(c,normalize(a.attributes.value&&a.attributes.value.specified?a.value:a.text))},f,g,h,i;if(a.disabled||!c)return;switch(d){case"input":/reset|button|image|file/i.test(a.type)||(f=/checkbox/i.test(a.type),g=/radio/i.test(a.type),h=a.value,(!f&&!g||a.checked)&&b(c,normalize(f&&h===""?"on":h)));break;case"textarea":b(c,normalize(a.value));break;case"select":if(a.type.toLowerCase()==="select-one")e(a.selectedIndex>=0?a.options[a.selectedIndex]:null);else for(i=0;a.length&&i<a.length;i++)a.options[i].selected&&e(a.options[i])}}function eachFormElement(){var a=this,b,c,d=function(b,c){var d,f,g;for(d=0;d<c.length;d++){g=b[byTag](c[d]);for(f=0;f<g.length;f++)serial(g[f],a)}};for(c=0;c<arguments.length;c++)b=arguments[c],/input|select|textarea/i.test(b.tagName)&&serial(b,a),d(b,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var a={};return eachFormElement.apply(function(b,c){b in a?(a[b]&&!isArray(a[b])&&(a[b]=[a[b]]),a[b].push(c)):a[b]=c},arguments),a}function buildParams(a,b,c,d){var e,f,g,h=/\[\]$/;if(isArray(b))for(f=0;b&&f<b.length;f++)g=b[f],c||h.test(a)?d(a,g):buildParams(a+"["+(typeof g=="object"?f:"")+"]",g,c,d);else if(b&&b.toString()==="[object Object]")for(e in b)buildParams(a+"["+e+"]",b[e],c,d);else d(a,b)}var win=window,doc=document,twoHundo=/^(20\d|1223)$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +(new Date),lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray=typeof Array.isArray=="function"?Array.isArray:function(a){return a instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(a){if(a.crossOrigin===!0){var b=win[xmlHttpRequest]?new XMLHttpRequest:null;if(b&&"withCredentials"in b)return b;if(win[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return win[xmlHttpRequest]?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(a){return a}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(a,b){return a=a||function(){},b=b||function(){},this._fulfilled?this._responseArgs.resp=a(this._responseArgs.resp):this._erred?b(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(a),this._errorHandlers.push(b)),this},always:function(a){return this._fulfilled||this._erred?a(this._responseArgs.resp):this._completeHandlers.push(a),this},fail:function(a){return this._erred?a(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(a),this}},reqwest.serializeArray=function(){var a=[];return eachFormElement.apply(function(b,c){a.push({name:b,value:c})},arguments),a},reqwest.serialize=function(){if(arguments.length===0)return"";var a,b,c=Array.prototype.slice.call(arguments,0);return a=c.pop(),a&&a.nodeType&&c.push(a)&&(a=null),a&&(a=a.type),a=="map"?b=serializeHash:a=="array"?b=reqwest.serializeArray:b=serializeQueryString,b.apply(null,c)},reqwest.toQueryString=function(a,b){var c,d,e=b||!1,f=[],g=encodeURIComponent,h=function(a,b){b="function"==typeof b?b():b==null?"":b,f[f.length]=g(a)+"="+g(b)};if(isArray(a))for(d=0;a&&d<a.length;d++)h(a[d].name,a[d].value);else for(c in a)a.hasOwnProperty(c)&&buildParams(c,a[c],e,h);return f.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(a,b){return a&&(a.type&&(a.method=a.type)&&delete a.type,a.dataType&&(a.type=a.dataType),a.jsonpCallback&&(a.jsonpCallbackName=a.jsonpCallback)&&delete a.jsonpCallback,a.jsonp&&(a.jsonpCallback=a.jsonp)),new Reqwest(a,b)},reqwest.ajaxSetup=function(a){a=a||{};for(var b in a)globalSetupOptions[b]=a[b]},reqwest}),typeof provide=="function"&&provide("reqwest",module.exports),!function(a){var b=require("reqwest"),c=function(a){return function(){var c=Array.prototype.slice.call(arguments,0),d=this&&this.length||0;while(d--)c.unshift(this[d]);return b[a].apply(null,c)}},d=c("serialize"),e=c("serializeArray");a.ender({ajax:b,serialize:b.serialize,serializeArray:b.serializeArray,toQueryString:b.toQueryString,ajaxSetup:b.ajaxSetup}),a.ender({serialize:d,serializeArray:e},!0)}(ender)}(),function(){var a={exports:{}},b=a.exports;!function(b,c){typeof define=="function"?define(c):typeof a!="undefined"?a.exports=c():this[b]=c()}("morpheus",function(){function a(a,b,c){if(Array.prototype.indexOf)return a.indexOf(b);for(c=0;c<a.length;++c)if(a[c]===b)return c}function b(a){var c,d=L.length;w&&(a=v());for(c=d;c--;)L[c](a);L.length&&K(b)}function c(a){L.push(a)===1&&K(b)}function d(b){var c,d=a(L,b);d>=0&&(c=L.slice(d+1),L.length=d,L=L.concat(c))}function e(a,b){var c={},d;if(d=a.match(C))c.rotate=p(d[1],b?b.rotate:null);if(d=a.match(D))c.scale=p(d[1],b?b.scale:null);if(d=a.match(E))c.skewx=p(d[1],b?b.skewx:null),c.skewy=p(d[3],b?b.skewy:null);if(d=a.match(F))c.translatex=p(d[1],b?b.translatex:null),c.translatey=p(d[3],b?b.translatey:null);return c}function f(a){var b="";return"rotate"in a&&(b+="rotate("+a.rotate+"deg) "),"scale"in a&&(b+="scale("+a.scale+") "),"translatex"in a&&(b+="translate("+a.translatex+"px,"+a.translatey+"px) "),"skewx"in a&&(b+="skew("+a.skewx+"deg,"+a.skewy+"deg)"),b}function g(a,b,c){return"#"+(1<<24|a<<16|b<<8|c).toString(16).slice(1)}function h(a){var b=a.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);return(b?g(b[1],b[2],b[3]):a).replace(/#(\w)(\w)(\w)$/,"#$1$1$2$2$3$3")}function i(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function j(a){return typeof a=="function"}function k(a){return Math.sin(a*Math.PI/2)}function l(a,b,e,f,g,h){function i(a){var c=a-o;if(c>l||p)return h=isFinite(h)?h:1,p?r&&b(h):b(h),d(i),e&&e.apply(m);isFinite(h)?b(n*f(c/l)+g):b(f(c/l))}f=j(f)?f:q.easings[f]||k;var l=a||y,m=this,n=h-g,o=v(),p=0,r=0;return c(i),{stop:function(a){p=1,r=a,a||(e=null)}}}function m(a,b){var c=a.length,d=[],e,f;for(e=0;e<c;++e)d[e]=[a[e][0],a[e][1]];for(f=1;f<c;++f)for(e=0;e<c-f;++e)d[e][0]=(1-b)*d[e][0]+b*d[parseInt(e+1,10)][0],d[e][1]=(1-b)*d[e][1]+b*d[parseInt(e+1,10)][1];return[d[0][0],d[0][1]]}function n(a,b,c){var d=[],e,f,g,h;for(e=0;e<6;e++)g=Math.min(15,parseInt(b.charAt(e),16)),h=Math.min(15,parseInt(c.charAt(e),16)),f=Math.floor((h-g)*a+g),f=f>15?15:f<0?0:f,d[e]=f.toString(16);return"#"+d.join("")}function o(a,b,c,d,e,f,g){if(e=="transform"){g={};for(var h in c[f][e])g[h]=h in d[f][e]?Math.round(((d[f][e][h]-c[f][e][h])*a+c[f][e][h])*y)/y:c[f][e][h];return g}return typeof c[f][e]=="string"?n(a,c[f][e],d[f][e]):(g=Math.round(((d[f][e]-c[f][e])*a+c[f][e])*y)/y,e in G||(g+=b[f][e]||"px"),g)}function p(a,b,c,d,e){return(c=A.exec(a))?(e=parseFloat(c[2]))&&b+(c[1]=="+"?1:-1)*e:parseFloat(a)}function q(a,b){var c=a?c=isFinite(a.length)?a:[a]:[],d,g=b.complete,k=b.duration,n=b.easing,q=b.bezier,r=[],s=[],t=[],u=[],v,w;q&&(v=b.left,w=b.top,delete b.right,delete b.bottom,delete b.left,delete b.top);for(d=c.length;d--;){r[d]={},s[d]={},t[d]={};if(q){var x=J(c[d],"left"),y=J(c[d],"top"),A=[p(j(v)?v(c[d]):v||0,parseFloat(x)),p(j(w)?w(c[d]):w||0,parseFloat(y))];u[d]=j(q)?q(c[d],A):q,u[d].push(A),u[d].unshift([parseInt(x,10),parseInt(y,10)])}for(var C in b){switch(C){case"complete":case"duration":case"easing":case"bezier":continue}var D=J(c[d],C),E,F=j(b[C])?b[C](c[d]):b[C];if(typeof F=="string"&&z.test(F)&&!z.test(D)){delete b[C];continue}r[d][C]=C=="transform"?e(D):typeof F=="string"&&z.test(F)?h(D).slice(1):parseFloat(D),s[d][C]=C=="transform"?e(F,r[d][C]):typeof F=="string"&&F.charAt(0)=="#"?h(F).slice(1):p(F,parseFloat(D)),typeof F=="string"&&(E=F.match(B))&&(t[d][C]=E[1])}}return l.apply(c,[k,function(a,e,g){for(d=c.length;d--;){q&&(g=m(u[d],a),c[d].style.left=g[0]+"px",c[d].style.top=g[1]+"px");for(var h in b)e=o(a,t,r,s,h,d),h=="transform"?c[d].style[H]=f(e):h=="opacity"&&!I?c[d].style.filter="alpha(opacity="+e*100+")":c[d].style[i(h)]=e}},g,n])}var r=document,s=window,t=s.performance,u=t&&(t.now||t.webkitNow||t.msNow||t.mozNow),v=u?function(){return u.call(t)}:function(){return+(new Date)},w=!1,x=r.documentElement,y=1e3,z=/^rgb\(|#/,A=/^([+\-])=([\d\.]+)/,B=/^(?:[\+\-]=?)?\d+(?:\.\d+)?(%|in|cm|mm|em|ex|pt|pc|px)$/,C=/rotate\(((?:[+\-]=)?([\-\d\.]+))deg\)/,D=/scale\(((?:[+\-]=)?([\d\.]+))\)/,E=/skew\(((?:[+\-]=)?([\-\d\.]+))deg, ?((?:[+\-]=)?([\-\d\.]+))deg\)/,F=/translate\(((?:[+\-]=)?([\-\d\.]+))px, ?((?:[+\-]=)?([\-\d\.]+))px\)/,G={lineHeight:1,zoom:1,zIndex:1,opacity:1,transform:1},H=function(){var a=r.createElement("a").style,b=["webkitTransform","MozTransform","OTransform","msTransform","Transform"],c;for(c=0;c<b.length;c++)if(b[c]in a)return b[c]}(),I=function(){return typeof r.createElement("a").style.opacity!="undefined"}(),J=r.defaultView&&r.defaultView.getComputedStyle?function(a,b){b=b=="transform"?H:b,b=i(b);var c=null,d=r.defaultView.getComputedStyle(a,"");return d&&(c=d[b]),a.style[b]||c}:x.currentStyle?function(a,b){b=i(b);if(b=="opacity"){var c=100;try{c=a.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(d){try{c=a.filters("alpha").opacity}catch(e){}}return c/100}var f=a.currentStyle?a.currentStyle[b]:null;return a.style[b]||f}:function(a,b){return a.style[i(b)]},K=function(){return s.requestAnimationFrame||s.webkitRequestAnimationFrame||s.mozRequestAnimationFrame||s.msRequestAnimationFrame||s.oRequestAnimationFrame||function(a){s.setTimeout(function(){a(+(new Date))},17)}}();K(function(a){w=a>1e12!=v()>1e12});var L=[];return q.tween=l,q.getStyle=J,q.bezier=m,q.transform=H,q.parseTransform=e,q.formatTransform=f,q.easings={},q}),typeof provide=="function"&&provide("morpheus",a.exports);var c=require("morpheus");!function(a){a.ender({animate:function(a){return c(this,a)},fadeIn:function(a,b){return c(this,{duration:a,opacity:1,complete:b})},fadeOut:function(a,b){return c(this,{duration:a,opacity:0,complete:b})}},!0),a.ender({tween:c.tween})}(ender)}(),function(){var a={exports:{}},b=a.exports;!function(a){function b(){var a,c,d,e,f,g=arguments[0],i=1,j=arguments.length;for(;i<j;i+=1)if((a=arguments[i])!==null)for(c in a){d=g[c],e=a[c];if(g===e)continue;e&&h.obj(e)?(f=d&&h.obj(d)?d:{},g[c]=b(f,e)):e!==undefined&&(g[c]=e)}return g}function c(a){if(null===a||"object"!=typeof a)return a;var b=a.constructor(),c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function d(a,b){var c=Array.prototype.slice,d=c.call(arguments,2);return function(){return a.apply(b,d.concat(c.call(arguments)))}}function e(a){var c=a.el,d=a.complete?a.complete:function(){},e,f;if(!a.animation||!(c.animate||a.css3transition&&i)){c.css(a.fallbackCss),d();return}a.animStartCss&&(a.animStartCss.opacity===0&&(a.animStartCss.opacity=.01),c.css(a.animStartCss)),e=a.animation,a.css3transition&&i?(f=c[0].offsetWidth,c[0].style[i.prop]="all "+e.duration+"ms ease-out",delete e.duration,c.css(e),c.on(i.end,function(){c.off(i.end),c[0].style[i.prop]="none",d()})):window.ender?c.animate(b(e,{complete:d})):c.animate(e,e.duration,"swing",d)}function f(a){this.init(a)}function g(a,b){return this.init(a,b),this.getApi()}var h,i;h={fun:function(a){return typeof a=="function"},arr:function(a){return a instanceof Array},obj:function(a){return a instanceof Object&&!h.fun(a)&&!h.arr(a)}},i=function(){var a=document.createElement("div").style,b="TransitionEnd",c="Transition",d=a.transition!==undefined||a.WebkitTransition!==undefined||a.MozTransition!==undefined;return d&&{prop:function(){return a.WebkitTransition!==undefined?c="WebkitTransition":a.MozTransition!==undefined&&(c="MozTransition"),c}(),end:function(){return a.WebkitTransition!==undefined?b="webkitTransitionEnd":a.MozTransition!==undefined&&(b="transitionend"),b}()}}(),f.prototype={init:function(c){this.options={id:"ender-overlay-mask",zIndex:9998,opacity:.6,color:"#777"},b(this.options,c||{});var d=a("#"+this.options.id),e=this.options;d.length||(d=a("<div></div>").attr("id",this.options.id).css({display:"none",position:"absolute",top:0,left:0}).appendTo("body")),this.$mask=d},show:function(){var a=this.options,b=this.getDocSize(),c=!1;this.$mask.css({zIndex:a.zIndex,backgroundColor:a.color,width:b.width,height:b.height}),a.durationIn&&(c={opacity:a.opacity,duration:a.durationIn}),e({el:this.$mask,animStartCss:{opacity:.01,display:"block"},animation:c,fallbackCss:{display:"block",opacity:a.opacity},css3transition:a.css3transition})},hide:function(){var a=this.options,b=this,c=!1;a.durationOut&&(c={opacity:0,duration:a.durationOut}),e({el:this.$mask,animation:c,complete:function(){b.$mask.css({display:"none"})},fallbackCss:{display:"none"},css3transition:a.css3transition})},getDocSize:function(){if(window.ender)return{width:a.doc().width,height:a.doc().height};if(window.Zepto){var b=window.document,c=b.documentElement,d=/msie/i.test(navigator.userAgent),e={width:d?c.clientWidth:self.innerWidth,height:d?c.clientHeight:self.innerHeight};return{width:Math.max(b.body.scrollWidth,c.scrollWidth,e.width),height:Math.max(b.body.scrollHeight,c.scrollHeight,e.height)}}return{width:a(document).width(),height:a(document).height()}},getMask:function(){return this.$mask}},g.prototype={init:function(a,b){this.options={top:80,position:"absolute",cssClass:"ender-overlay",close:".close",trigger:null,zIndex:9999,showMask:!0,closeOnEsc:!0,closeOnMaskClick:!0,autoOpen:!1,allowMultipleDisplay:!1,css3transition:!1,startAnimationCss:{opacity:.01},animationIn:{opacity:1,duration:250},animationOut:{opacity:0,duration:250},mask:{},onBeforeOpen:function(){},onBeforeClose:function(){},onOpen:function(){},onClose:function(){}},this.setOptions(b),this.$overlay=a.css({display:"none"}),this.options.showMask&&(this.mask=new f(this.options.mask)),this.$overlay.attr("data-overlayloaded")||(this.attachEvents(),this.$overlay.attr("data-overlayloaded",1)),this.options.autoOpen&&this.open()},attachEvents:function(){var b=this,c=this.options;c.trigger&&a(c.trigger).length&&a(c.trigger).on("click",function(a){a.preventDefault(),b.open()}),this.$overlay.on("click",c.close,function(a){a.preventDefault(),b.close()}),a(document).on("ender-overlay.close",function(){b.close()}),a(document).on("ender-overlay.closeOverlay",function(){b.close(!0)}),c.closeOnEsc&&a(document).on("keyup",function(a){b.onKeyUp(a)}),this.mask&&c.closeOnMaskClick&&this.mask.getMask().on("click",function(){b.close()})},setupOverlay:function(){var b=this.options,c=b.top,d=a(window).scrollTop(),e=this.$overlay.width();this.$overlay.addClass(b.cssClass).appendTo("body"),b.position==="absolute"&&(c+=d),e===0&&(this.$overlay.css({display:"block",position:"absolute",left:-9999}),e=this.$overlay.width()),this.$overlay.css({display:"none",position:b.position,top:c,left:"50%",zIndex:b.zIndex,marginLeft:e/2*-1})},open:function(d){var f=this.options,g=this,h=f.animationIn?c(f.animationIn):!1,i=this.getApi();if(this.$overlay.css("display")==="block"||f.onBeforeOpen(i)===!1)return;this.setupOverlay(),f.allowMultipleDisplay||a(document).trigger("ender-overlay.closeOverlay"),e({el:this.$overlay,animStartCss:b({display:"block"},f.startAnimationCss),animation:h,complete:function(){h&&h.opacity===1&&g.$overlay.css({filter:""}),g.options.onOpen(i)},fallbackCss:{display:"block",opacity:1},css3transition:f.css3transition}),this.mask&&typeof d=="undefined"&&this.mask.show()},close:function(a){var b=this.options,d=this,f=b.animationOut?c(b.animationOut):!1,g=this.getApi();if(b.onBeforeClose(g)===!1||this.$overlay.css("display")!=="block")return;e({el:this.$overlay,animation:f,complete:function(){d.$overlay.css({display:"none"}),d.options.onClose(g)},fallbackCss:{display:"none",opacity:0},css3transition:b.css3transition}),this.mask&&typeof a=="undefined"&&this.mask.hide()},onKeyUp:function(a){a.keyCode===27&&this.$overlay.css("display")!=="none"&&this.close()},getOverlay:function(){return this.$overlay},getOptions:function(){return this.options},setOptions:function(a){b(this.options,a||{});var c=this.options;c.animationIn==="none"&&(c.animationIn=!1),c.animationOut==="none"&&(c.animationOut=!1),c.showMask&&(!c.mask.durationIn&&c.animationIn&&c.animationIn.duration&&(c.mask.durationIn=c.animationIn.duration),!c.mask.durationOut&&c.animationOut&&c.animationOut.duration&&(c.mask.durationOut=c.animationOut.duration),!c.mask.durationIn&&!c.animationIn&&(c.mask.durationIn=0),!c.mask.durationOut&&!c.animationOut&&(c.mask.durationOut=0),typeof c.mask.css3transition!="boolean"&&(c.mask.css3transition=c.css3transition))},getApi:function(){return{open:d(this.open,this),close:d(this.close,this),getOverlay:d(this.getOverlay,this),getOptions:d(this.getOptions,this),setOptions:d(this.setOptions,this)}}},a.fn.overlay=function(b){var c=a(this).first();return new g(c,b)}}(window.ender||window.jQuery||window.Zepto),typeof provide=="function"&&provide("ender-overlay",a.exports),$.ender(a.exports)}();
var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"/media/js/zeroclipboard/ZeroClipboard.swf",nextId:1,$:function(a){return typeof a=="string"&&(a=document.getElementById(a)),a.addClass||(a.hide=function(){this.style.display="none"},a.show=function(){this.style.display=""},a.addClass=function(a){this.removeClass(a),this.className+=" "+a},a.removeClass=function(a){var b=this.className.split(/\s+/),c=-1;for(var d=0;d<b.length;d++)b[d]==a&&(c=d,d=b.length);return c>-1&&(b.splice(c,1),this.className=b.join(" ")),this},a.hasClass=function(a){return!!this.className.match(new RegExp("\\s*"+a+"\\s*"))}),a},setMoviePath:function(a){this.moviePath=a},dispatch:function(a,b,c){var d=this.clients[a];d&&d.receiveEvent(b,c)},register:function(a,b){this.clients[a]=b},getDOMObjectPosition:function(a,b){var c={left:0,top:0,width:a.width?a.width:a.offsetWidth,height:a.height?a.height:a.offsetHeight};while(a&&a!=b)c.left+=a.offsetLeft,c.top+=a.offsetTop,a=a.offsetParent;return c},Client:function(a){this.handlers={},this.id=ZeroClipboard.nextId++,this.movieId="ZeroClipboardMovie_"+this.id,ZeroClipboard.register(this.id,this),a&&this.glue(a)}};ZeroClipboard.Client.prototype={id:0,ready:!1,movie:null,clipText:"",handCursorEnabled:!0,cssEffects:!0,handlers:null,glue:function(a,b,c){this.domElement=ZeroClipboard.$(a);var d=99;this.domElement.style.zIndex&&(d=parseInt(this.domElement.style.zIndex,10)+1),typeof b=="string"?b=ZeroClipboard.$(b):typeof b=="undefined"&&(b=document.getElementsByTagName("body")[0]);var e=ZeroClipboard.getDOMObjectPosition(this.domElement,b);this.div=document.createElement("div");var f=this.div.style;f.position="absolute",f.left=""+e.left+"px",f.top=""+e.top+"px",f.width=""+e.width+"px",f.height=""+e.height+"px",f.zIndex=d;if(typeof c=="object")for(addedStyle in c)f[addedStyle]=c[addedStyle];b.appendChild(this.div),this.div.innerHTML=this.getHTML(e.width,e.height)},getHTML:function(a,b){var c="",d="id="+this.id+"&width="+a+"&height="+b;if(navigator.userAgent.match(/MSIE/)){var e=location.href.match(/^https/i)?"https://":"http://";c+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+e+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+a+'" height="'+b+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+d+'"/><param name="wmode" value="transparent"/></object>'}else c+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+a+'" height="'+b+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+d+'" wmode="transparent" />';return c},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var a=document.getElementsByTagName("body")[0];try{a.removeChild(this.div)}catch(b){}this.domElement=null,this.div=null}},reposition:function(a){a&&(this.domElement=ZeroClipboard.$(a),this.domElement||this.hide());if(this.domElement&&this.div){var b=ZeroClipboard.getDOMObjectPosition(this.domElement),c=this.div.style;c.left=""+b.left+"px",c.top=""+b.top+"px"}},setText:function(a){this.clipText=a,this.ready&&this.movie.setText(a)},addEventListener:function(a,b){a=a.toString().toLowerCase().replace(/^on/,""),this.handlers[a]||(this.handlers[a]=[]),this.handlers[a].push(b)},setHandCursor:function(a){this.handCursorEnabled=a,this.ready&&this.movie.setHandCursor(a)},setCSSEffects:function(a){this.cssEffects=!!a},receiveEvent:function(a,b){a=a.toString().toLowerCase().replace(/^on/,"");switch(a){case"load":this.movie=document.getElementById(this.movieId);if(!this.movie){var c=this;setTimeout(function(){c.receiveEvent("load",null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var c=this;setTimeout(function(){c.receiveEvent("load",null)},100),this.ready=!0;return}this.ready=!0,this.movie.setText(this.clipText),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&(this.domElement.addClass("hover"),this.recoverActive&&this.domElement.addClass("active"));break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0),this.domElement.removeClass("hover"));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[a])for(var d=0,e=this.handlers[a].length;d<e;d++){var f=this.handlers[a][d];typeof f=="function"?f(this,b):typeof f=="object"&&f.length==2?f[0][f[1]](this,b):typeof f=="string"&&window[f](this,b)}}};
function isURL(a){var b=$("html").data("domain"),c=new RegExp("^http://"+b+"/[a-zA-Z0-9]+$");if(c.test(a)===!1){var d=/^(https?):\/\/((?:[a-z0-9.-]|%[0-9A-F]{2}){3,})(?::(\d+))?((?:\/(?:[a-z0-9-._~!$&'()*+,;=:@]|%[0-9A-F]{2})*)*)(?:\?((?:[a-z0-9-._~!$&'()*+,;=:\/?@]|%[0-9A-F]{2})*))?(?:#((?:[a-z0-9-._~!$&'()*+,;=:\/?@]|%[0-9A-F]{2})*))?$/i;return d.test(a)}return!1}$(document).ready(function(){var a=new ZeroClipboard.Client,b=$("html").data("domain");$("#submitBtn").click(function(){var a=$("#originalURL").val().search(/^(ftp|http|https):\/\//);if(a==-1){var b="http://"+$("#originalURL").val();$("#originalURL").val(b)}if(isURL($("#originalURL").val())){var c=escape($("#originalURL").val()).replace(/\+/g,"%20");$.ajax({url:"/rpc/setLink",type:"json",method:"post",data:"originalURL="+c,success:function(a){$("#errorMessage").html(""),a.shortenError===!1?($("#shortenedLink").html(a.shortenedURL),$("#liveSelect").val(a.shortenedURL),$("#shortenedLink").attr("href",a.shortenedURL)):($("#response").css({display:"none"}),$("#errorMessage").html(a.shortenError)),$("#response").css({display:"block"})},error:function(a){}})}else $("#errorMessage").html("Invalid link."),$("#response").css({display:"none"})}),$("#getStatsSubmitBtn").click(function(){var a=$("#shortenedURL").val(),c=new RegExp("^http://"+b+"/[a-zA-Z0-9]{6,32}$");c.test(a)?$.ajax({url:"/rpc/getLink",type:"json",method:"post",data:"shortenedURL="+a,success:function(a){if(a.error===!1){$("#statsError").html(""),$(".addedIn").remove();var c="http://"+b+"/"+a.linkHash;$("#StatsTitle").attr("href",c),$("#StatsTitle").html(c),$("#StatsOriginalURL").val(a.originalURL),$("#timesUsed").html(a.timesUsed);var d=(new Date(a.dateShortened)).toLocaleString();$("#dateShortened").html(d);var e="";if(a.topUserAgents.length>0){for(var f=0;a.topUserAgents.length>f;f++){var g="";f%2==0&&(g="odd"),e+='<tr class="'+g+' addedIn"><td>'+a.topUserAgents[f].userAgent+'</td><td class="tableCount">'+a.topUserAgents[f].agentCount+"</td></tr>"}$(".userAgents").append(e)}if(a.topReferrals.length>0){e="";for(var h=0;a.topReferrals.length>h;h++){var g="";h%2==0&&(g="odd"),a.topReferrals[h].referrer==""?referrer="&lt;none&gt;":referrer=a.topReferrals[h].referrer,e+='<tr class="'+g+' addedIn"><td>'+referrer+'</td><td class="tableCount">'+a.topReferrals[h].referrerCount+"</td></tr>"}$(".referrers").append(e)}$("#getLinkResponse").css({display:"block"})}else{$("#statsError").html(a.error);if(a.linkHash!==""&&a.originalURL!==""){var c="http://"+b+"/"+a.linkHash;$("#StatsTitle").attr("href",c),$("#StatsTitle").html(c),$("#StatsOriginalURL").val(a.originalURL),$("#timesUsed").html("0")}}},error:function(a){$("#statsError").html("Error, try again later"),console.log(a)}}):$("#statsError").html("Not a "+b+" URL")}),$("#liveCopyToClip").listen("click",function(){a.setText($("#liveSelect").val()),a.glue("liveCopyToClip"),$("#liveCopyToClip").html("Once more"),a.addEventListener("complete",function(){$("#liveCopyToClip").html("Copied"),setTimeout("$('#liveCopyToClip').html('Click To Copy');",2e3)})}),$("#liveSelect").listen("click",function(){$("#liveSelect")[0].select()}),$("#shortenedURL").listen("click",function(){$("#shortenedURL")[0].select()}),$("#Modal").overlay({trigger:"#GetURLStats",position:"fixed",showMask:!1,startAnimationCss:{opacity:0,top:0},animationIn:{opacity:1,top:80,duration:400},animationOut:{opacity:0,top:-200,duration:400},onOpen:function(){$("#statsError").html("")}})});
